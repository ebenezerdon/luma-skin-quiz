<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Luma Skin Quiz</title>
  <meta name="description" content="Take the Luma Skin quiz for a personalized skincare routine, ingredient highlights, and dermatologist quotes.">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="styles/main.css">
  <style type="text/tailwindcss" data-teda="tailwind-apply">
    @layer components {
      .btn-primary { @apply inline-flex items-center justify-center whitespace-nowrap rounded-full bg-rose-500 text-white px-5 py-3 text-sm font-semibold shadow-md hover:bg-rose-600 active:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-200 transition; }
      .btn-secondary { @apply inline-flex items-center justify-center whitespace-nowrap rounded-full bg-white border border-neutral-200 px-5 py-3 text-sm font-semibold text-neutral-700 hover:bg-neutral-50 active:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-rose-100 transition; }
      .btn-ghost { @apply inline-flex items-center justify-center whitespace-nowrap rounded-full px-4 py-2 text-sm font-semibold text-neutral-600 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-rose-100; }
      .chip { @apply inline-flex items-center rounded-full bg-white border border-neutral-200 px-3 py-1 text-xs text-neutral-700 shadow-sm; }
      .section-title { @apply text-2xl md:text-3xl font-extrabold tracking-tight text-neutral-900; }
      .card { @apply bg-white rounded-2xl shadow-lg p-5; }
      .field-label { @apply block text-sm font-semibold text-neutral-800; }
      .hint { @apply text-xs text-neutral-500; }
      .error { @apply text-xs text-rose-600 mt-1; }
      .step-title { @apply text-xl font-extrabold text-neutral-900; }
      .pill-nav { @apply inline-flex items-center gap-2 rounded-full border border-neutral-200 bg-white p-1; }
      .pill { @apply cursor-pointer select-none rounded-full px-3 py-1.5 text-xs font-semibold text-neutral-600 hover:bg-neutral-100; }
      .pill.active { @apply bg-rose-500 text-white; }
      .result-card { @apply bg-white rounded-2xl shadow-lg p-6 ring-1 ring-black/5; }
      .divider-soft { @apply border-t border-neutral-200; }
    }
  </style>
</head>
<body class="antialiased bg-neutral-100 text-neutral-900">
  <a href="index.html" class="sr-only focus:not-sr-only focus:absolute top-2 left-2 btn-secondary">Back to landing</a>

  <!-- Top nav -->
  <header class="bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/70 sticky top-0 z-40 border-b border-neutral-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2" aria-label="Back to Luma Skin home">
        <span class="h-8 w-8 rounded-lg bg-rose-500 shadow-md inline-flex items-center justify-center text-white font-bold">L</span>
        <span class="font-extrabold tracking-tight">Luma Skin</span>
      </a>
      <div class="pill-nav">
        <span class="pill active" id="pill-quiz">Quiz</span>
        <span class="pill" id="pill-results">Results</span>
      </div>
      <div class="hidden sm:flex items-center gap-3">
        <button class="btn-secondary" id="btn-view-last" title="Load last result" aria-label="Load last result">Last result</button>
        <a href="index.html" class="btn-ghost">Exit</a>
      </div>
    </div>
    <div class="h-1 w-full bg-neutral-100">
      <div id="progress" class="h-1 bg-rose-500 transition-all duration-500" style="width: 6%;"></div>
    </div>
  </header>

  <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <section id="notice-last" class="hidden mb-6">
      <div class="card flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4">
        <div>
          <div class="text-sm font-semibold">You have a saved result</div>
          <p class="hint" id="last-meta">From your previous session.</p>
        </div>
        <div class="flex gap-2">
          <button id="btn-restore" class="btn-primary">Open</button>
          <button id="btn-dismiss" class="btn-secondary">Dismiss</button>
        </div>
      </div>
    </section>

    <!-- QUIZ STEPS -->
    <section id="quiz" class="space-y-6">
      <!-- Step 1: Basics -->
      <div class="card" data-step="1">
        <div class="step-title">Let us get to know you</div>
        <p class="hint mt-1">These basics help us tailor your routine.</p>
        <div class="mt-4 grid gap-5">
          <div>
            <label class="field-label" for="name">Name</label>
            <input id="name" type="text" maxlength="30" class="mt-1 w-full rounded-xl border border-neutral-300 px-3 py-2 focus:ring-2 focus:ring-rose-200 focus:outline-none" placeholder="First name" aria-describedby="name-err">
            <p id="name-err" class="error hidden">Please enter your name (max 30 characters).</p>
          </div>
          <div>
            <label class="field-label" for="age">Age range</label>
            <select id="age" class="mt-1 w-full rounded-xl border border-neutral-300 px-3 py-2 focus:ring-2 focus:ring-rose-200 focus:outline-none" aria-describedby="age-err">
              <option value="" selected>Choose one</option>
              <option value="under-20">Under 20</option>
              <option value="20-29">20-29</option>
              <option value="30-39">30-39</option>
              <option value="40-49">40-49</option>
              <option value="50-plus">50+</option>
            </select>
            <p id="age-err" class="error hidden">Please choose an age range.</p>
          </div>
          <fieldset>
            <legend class="field-label">Skin type</legend>
            <div class="mt-2 flex flex-wrap gap-2">
              <label class="chip"><input type="radio" name="skinType" value="dry" class="mr-2">Dry</label>
              <label class="chip"><input type="radio" name="skinType" value="oily" class="mr-2">Oily</label>
              <label class="chip"><input type="radio" name="skinType" value="combination" class="mr-2">Combination</label>
              <label class="chip"><input type="radio" name="skinType" value="normal" class="mr-2">Normal</label>
            </div>
            <p id="skin-err" class="error hidden">Please select your skin type.</p>
          </fieldset>
        </div>
        <div class="mt-6 flex justify-between">
          <button class="btn-ghost" data-prev disabled>Back</button>
          <button class="btn-primary" data-next>Continue</button>
        </div>
      </div>

      <!-- Step 2: Concerns -->
      <div class="card hidden" data-step="2">
        <div class="step-title">What are your top concerns?</div>
        <p class="hint mt-1">Choose at least one.</p>
        <div class="mt-4 flex flex-wrap gap-2">
          <label class="chip"><input type="checkbox" value="acne" class="mr-2">Breakouts</label>
          <label class="chip"><input type="checkbox" value="dryness" class="mr-2">Dryness</label>
          <label class="chip"><input type="checkbox" value="sensitivity" class="mr-2">Sensitivity</label>
          <label class="chip"><input type="checkbox" value="hyperpigmentation" class="mr-2">Dark spots</label>
          <label class="chip"><input type="checkbox" value="fine-lines" class="mr-2">Fine lines</label>
          <label class="chip"><input type="checkbox" value="dullness" class="mr-2">Dullness</label>
          <label class="chip"><input type="checkbox" value="redness" class="mr-2">Redness</label>
        </div>
        <p id="concern-err" class="error hidden mt-2">Please choose at least one concern.</p>
        <div class="mt-6 flex justify-between">
          <button class="btn-ghost" data-prev>Back</button>
          <button class="btn-primary" data-next>Continue</button>
        </div>
      </div>

      <!-- Step 3: Environment -->
      <div class="card hidden" data-step="3">
        <div class="step-title">Your environment</div>
        <p class="hint mt-1">We adapt recommendations to climate and sun.</p>
        <div class="mt-4 grid gap-5">
          <div>
            <label class="field-label" for="climate">Climate</label>
            <select id="climate" class="mt-1 w-full rounded-xl border border-neutral-300 px-3 py-2 focus:ring-2 focus:ring-rose-200 focus:outline-none">
              <option value="temperate" selected>Temperate</option>
              <option value="dry">Dry</option>
              <option value="humid">Humid</option>
              <option value="cold">Cold</option>
              <option value="hot">Hot</option>
            </select>
          </div>
          <fieldset>
            <legend class="field-label">Daily sun exposure</legend>
            <div class="mt-2 flex flex-wrap gap-2">
              <label class="chip"><input type="radio" name="sun" value="low" class="mr-2" checked>Mostly indoors</label>
              <label class="chip"><input type="radio" name="sun" value="medium" class="mr-2">Some outdoor time</label>
              <label class="chip"><input type="radio" name="sun" value="high" class="mr-2">A lot of sun</label>
            </div>
          </fieldset>
          <fieldset>
            <legend class="field-label">Lifestyle</legend>
            <div class="mt-2 flex flex-wrap gap-2">
              <label class="chip"><input type="checkbox" value="minimal" class="mr-2">I prefer minimal steps</label>
              <label class="chip"><input type="checkbox" value="makeup" class="mr-2">I wear makeup</label>
              <label class="chip"><input type="checkbox" value="active" class="mr-2">I exercise often</label>
            </div>
          </fieldset>
        </div>
        <div class="mt-6 flex justify-between">
          <button class="btn-ghost" data-prev>Back</button>
          <button class="btn-primary" data-next>Continue</button>
        </div>
      </div>

      <!-- Step 4: Preferences -->
      <div class="card hidden" data-step="4">
        <div class="step-title">Preferences</div>
        <p class="hint mt-1">Make the plan truly yours.</p>
        <div class="mt-4 grid gap-5">
          <fieldset>
            <legend class="field-label">Formulation preferences</legend>
            <div class="mt-2 flex flex-wrap gap-2">
              <label class="chip"><input type="checkbox" value="fragrance-free" class="mr-2">Fragrance-free</label>
              <label class="chip"><input type="checkbox" value="vegan" class="mr-2">Vegan</label>
              <label class="chip"><input type="checkbox" value="budget" class="mr-2">Budget-friendly</label>
            </div>
          </fieldset>
          <fieldset>
            <legend class="field-label">Comfort level with actives</legend>
            <div class="mt-2 flex flex-wrap gap-2">
              <label class="chip"><input type="radio" name="actives" value="gentle" class="mr-2" checked>Gentle</label>
              <label class="chip"><input type="radio" name="actives" value="balanced" class="mr-2">Balanced</label>
              <label class="chip"><input type="radio" name="actives" value="advanced" class="mr-2">Advanced</label>
            </div>
          </fieldset>
        </div>
        <div class="mt-6 flex justify-between">
          <button class="btn-ghost" data-prev>Back</button>
          <button class="btn-primary" data-next>See my results</button>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="results" class="hidden mt-6" aria-live="polite">
      <div class="result-card">
        <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-3">
          <div>
            <h2 class="section-title" id="result-title">Your skincare plan</h2>
            <p class="hint" id="result-sub">Personalized overview</p>
          </div>
          <div class="flex gap-2">
            <button id="btn-copy" class="btn-secondary">Copy plan</button>
            <button id="btn-print" class="btn-secondary">Print</button>
            <button id="btn-save" class="btn-primary">Save</button>
          </div>
        </div>
        <div class="divider-soft my-5"></div>
        <div class="grid gap-6">
          <div>
            <h3 class="text-lg font-extrabold">Highlights</h3>
            <div id="result-highlights" class="mt-2 flex flex-wrap gap-2"></div>
          </div>
          <div class="grid md:grid-cols-2 gap-6">
            <div class="card ring-1 ring-neutral-200">
              <h3 class="text-lg font-extrabold">Morning</h3>
              <ul id="result-am" class="mt-2 list-outside list-disc pl-5 space-y-1 text-neutral-700"></ul>
            </div>
            <div class="card ring-1 ring-neutral-200">
              <h3 class="text-lg font-extrabold">Evening</h3>
              <ul id="result-pm" class="mt-2 list-outside list-disc pl-5 space-y-1 text-neutral-700"></ul>
            </div>
          </div>
          <div>
            <h3 class="text-lg font-extrabold">Ingredient insights</h3>
            <div id="result-ingredients" class="mt-3 grid gap-4 md:grid-cols-2"></div>
          </div>
          <div>
            <h3 class="text-lg font-extrabold">Dermatologist quotes</h3>
            <div id="result-quotes" class="mt-3 grid gap-4 md:grid-cols-2"></div>
            <p class="hint mt-2">Educational content only. Always patch test and consult a professional for personal medical advice.</p>
          </div>
          <div class="flex flex-wrap gap-2">
            <button id="btn-retake" class="btn-ghost">Retake quiz</button>
            <a href="index.html" class="btn-secondary">Back to landing</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-neutral-200 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-sm text-neutral-600 flex items-center justify-between">
      <span>© <span id="year-app"></span> Luma Skin</span>
      <a href="index.html" class="nav-link">Home</a>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="scripts/helpers.js"></script>
  <script src="scripts/ui.js"></script>
  <script src="scripts/main.js"></script>
</body>
</html>
